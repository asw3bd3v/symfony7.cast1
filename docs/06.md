# Twig Template Inheritance | Наследование шаблона Twig

А как насчет добавления макета на нашу страницу — например, заголовка и нижнего колонтитула? Взгляните на HTML страницы: это просто HTML из шаблона. В Twig нет ничего особенного, там базовый макет с заголовком и нижним колонтитулом автоматически оборачивает наш контент. Все, что у вас есть в шаблоне, вы получаете на странице.

Однако рецепт Twig добавил базовый файл макета с именем base.html.twig.

```twig
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Welcome!{% endblock %}</title>
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text></svg>">
        {% block stylesheets %}
        {% endblock %}
        {% block javascripts %}
        {% endblock %}
    </head>
    <body>
        {% block body %}{% endblock %}
    </body>
</html>
```

Теперь это действительно просто, но именно здесь мы добавим нашу верхнюю навигацию, нижний колонтитул и все остальное, что должно быть на каждой странице. Вопрос в том: как мы можем заставить наш шаблон использовать это?

## Extending the Base Layout | Расширение базовой компоновки

С классной функцией, которая называется наследование шаблонов. В homepage.html.twig, вверху, введите {% extends, а затем имя базового шаблона: base.html.twig. И обратите внимание: это тег do something. Мы не печатаем этот шаблон, мы говорим Twig, что хотим его расширить.

```twig
{% extends 'base.html.twig' %}
<h1>
    Starshop: your monopoly-busting option for Starship parts!
</h1>
```

Если мы ничего не сделаем и обновим страницу, получим ошибку:

```
a template that extends another one cannot include content outside Twig blocks.
```

Когда вы расширяете шаблон, он сообщает Twig, что вы хотите отобразить свой шаблон внутри этого базового макета. Но... Twig понятия не имеет, куда должен поместиться наш контент. Должен ли он взять HTML нашей домашней страницы и поместить его здесь? Или здесь? Или прямо там? Он не знает! Поэтому он выдает эту ошибку.

Мы говорим об этом через эти блоки. Блоки — это отверстия, в которые дочерний шаблон может поместить контент. И вы, возможно, заметили один блок, который называется body... который как раз и есть то место, куда мы хотим поместить наш контент. Чтобы поместить его туда, окружите весь контент {% block body %}... и внизу {% endblock %}.

```twig
{% extends 'base.html.twig' %}
{% block body %}
<h1>
    Starshop: your monopoly-busting option for Starship parts!
</h1>
<div>
// ... lines 9 - 16
</div>
<div>
// ... lines 20 - 39
</div>
{% endblock %}
```

Это называется наследованием шаблонов, потому что работает точно так же, как наследование классов PHP. Представьте, что у вас есть класс Homepage, который расширяет класс Base. Этот класс Base имеет метод body(), и мы переопределяем этот метод body() в классе Homepage. Это та же концепция в Twig.

## Overriding the Page Title | Переопределение заголовка страницы

И эти названия блоков — например, javascripts, stylesheets и body — не являются специальными названиями... и они нигде не зарегистрированы. Можете свободно создавать новые блоки, как и когда захотите. Например, предположим, что мы хотим изменить заголовок страницы из дочернего шаблона. В этом случае рецепт уже предоставил нам блок с именем title для этого. И этот блок имеет содержимое по умолчанию... поэтому мы уже видим Welcome на вкладке браузера. Давайте переопределим это в нашем шаблоне.

```twig
<html>
    <head>
        <title>{% block title %}Welcome!{% endblock %}</title>
    </head>
</html>
```

В любом месте за пределами блока body, скажем, {% block title %}, введите что-нибудь, затем {% endblock %}.

```twig
{% extends 'base.html.twig' %}
{% block title %}Starshop: Beam up some parts!{% endblock %}
{% block body %}
{% endblock %}
```

## Replacing vs Appending the Parent Block | Замена и добавление родительского блока

И теперь, понял! Новый заголовок! И обратите внимание, что когда мы переопределяем блок, мы переопределяем его полностью. Мы больше не видим слово Welcome. Иногда вам может понадобиться что-то добавить в родительский блок, а не заменить его. Вы можете сделать это, сказав {{ parent() }}.

Это действительно здорово! Функция parent() берет содержимое из заголовка родительского шаблона. Затем мы используем {{, чтобы вывести его. На этот раз мы видим приветствие, а затем наш заголовок.

Но поскольку нам это не нужно, я уберу это. 
