# Stimulus: Writing Pro JavaScript

–ú—ã –∑–Ω–∞–µ–º, –∫–∞–∫ –ø–∏—Å–∞—Ç—å HTML –≤ –Ω–∞—à–∏—Ö —à–∞–±–ª–æ–Ω–∞—Ö. –ò –º—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º CSS —Å –ø–æ–º–æ—â—å—é Tailwind. –ê –∫–∞–∫ –Ω–∞—Å—á–µ—Ç JavaScript? –ù—É, –∫–∞–∫ –∏ –≤ —Å–ª—É—á–∞–µ —Å CSS, –µ—Å—Ç—å —Ñ–∞–π–ª app.js, –∏ –æ–Ω —É–∂–µ –≤–∫–ª—é—á–µ–Ω –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É. –¢–∞–∫ —á—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –ª—é–±–æ–π JavaScript, –∫–æ—Ç–æ—Ä—ã–π –≤–∞–º –Ω—É–∂–µ–Ω, –ø—Ä—è–º–æ –∑–¥–µ—Å—å.

–ù–æ —è –Ω–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–±–æ–ª—å—à—É—é, –Ω–æ —Å–µ—Ä—å–µ–∑–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É JavaScript –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º Stimulus. –≠—Ç–æ –æ–¥–Ω–∞ –∏–∑ –º–æ–∏—Ö —Å–∞–º—ã—Ö –ª—é–±–∏–º—ã—Ö –≤–µ—â–µ–π –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç–µ. –í—ã –±–µ—Ä–µ—Ç–µ —á–∞—Å—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ HTML –∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç–µ –µ–µ –∫ –Ω–µ–±–æ–ª—å—à–æ–º—É —Ñ–∞–π–ª—É JavaScript, –Ω–∞–∑—ã–≤–∞–µ–º–æ–º—É –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ: –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ –≤—ã –Ω–∞–∂–∏–º–∞–µ—Ç–µ —ç—Ç—É –∫–Ω–æ–ø–∫—É, –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω –º–µ—Ç–æ–¥ greet –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ.

–ò —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤—Å–µ! –ö–æ–Ω–µ—á–Ω–æ, —É Stimulus –±–æ–ª—å—à–µ —Ñ—É–Ω–∫—Ü–∏–π, –Ω–æ –≤—ã —É–∂–µ –ø–æ–Ω–∏–º–∞–µ—Ç–µ —Å—É—Ç—å —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç. –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Å–≤–æ—é –ø—Ä–æ—Å—Ç–æ—Ç—É, –æ–Ω –ø–æ–∑–≤–æ–ª–∏—Ç –Ω–∞–º –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –ª—é–±—É—é –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –Ω–∞–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å JavaScript –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –Ω–∞–¥–µ–∂–Ω—ã–º –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º —Å–ø–æ—Å–æ–±–æ–º. –¢–∞–∫ —á—Ç–æ –¥–∞–≤–∞–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏–º –µ–≥–æ.

## Installing Stimulus / –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Stimulus

Stimulus ‚Äî —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ JavaScript, –Ω–æ —É Symfony –µ—Å—Ç—å –ø–∞–∫–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–µ. –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —É–≤–∏–¥–µ—Ç—å, —á—Ç–æ –¥–µ–ª–∞–µ—Ç —Ä–µ—Ü–µ–ø—Ç, –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ. –Ø —É–∂–µ —ç—Ç–æ —Å–¥–µ–ª–∞–ª. –ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```
composer require symfony/stimulus-bundle
```

–ö–æ–≥–¥–∞ —ç—Ç–æ –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è... —Ä–µ—Ü–µ–ø—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤–Ω–µ—Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è. –î–∞–≤–∞–π—Ç–µ –ø—Ä–æ–π–¥–µ–º—Å—è –ø–æ –≤–∞–∂–Ω—ã–º –∏–∑ –Ω–∏—Ö. –ü–µ—Ä–≤–æ–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ app.js: –Ω–∞—à–µ–º –æ—Å–Ω–æ–≤–Ω–æ–º —Ñ–∞–π–ª–µ JavaScript. –û—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ, –≤–æ—Ç –∏ –≤—Å–µ.

assets/app.js

```js
import "./bootstrap.js";
/*
 * Welcome to your app's main JavaScript file!
 *
 * This file will be included onto the page via the importmap() Twig function,
 * which should already be in your base.html.twig.
 */
import "./styles/app.css";
console.log("This log comes from assets/app.js - welcome to AssetMapper! üéâ");
```

–û–Ω –¥–æ–±–∞–≤–∏–ª –∏–º–ø–æ—Ä—Ç —Å–≤–µ—Ä—Ö—É - ./bootstrap.js - –≤ –Ω–æ–≤—ã–π —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø—Ä—è–º–æ —Ä—è–¥–æ–º —Å —ç—Ç–∏–º.

assets/bootstrap.js

```js
import { startStimulusApp } from "@symfony/stimulus-bundle";
const app = startStimulusApp();
// register any custom, 3rd party controllers here
// app.register('some_controller_name', SomeImportedController);
```

–¶–µ–ª—å —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å –¥–≤–∏–∂–æ–∫ Stimulus. –¢–∞–∫–∂–µ –≤ importmap.php —Ä–µ—Ü–µ–ø—Ç –¥–æ–±–∞–≤–∏–ª –ø–∞–∫–µ—Ç JavaScript @hotwired/stimulus –≤–º–µ—Å—Ç–µ —Å –¥—Ä—É–≥–∏–º —Ñ–∞–π–ª–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—å Stimulus –≤–Ω—É—Ç—Ä–∏ Symfony.

importmap.php

```php
return [
// ... lines 17 - 20
    '@hotwired/stimulus' => [
        'version' => '3.2.2',
    ],
    '@symfony/stimulus-bundle' => [
        'path' => './vendor/symfony/stimulus-bundle/assets/dist/loader.js',
    ],
];
```

–ù–∞–∫–æ–Ω–µ—Ü, —Ä–µ—Ü–µ–ø—Ç —Å–æ–∑–¥–∞–ª –∫–∞—Ç–∞–ª–æ–≥ assets/controllers/. –≠—Ç–æ —Ç–æ –º–µ—Å—Ç–æ, –≥–¥–µ –±—É–¥—É—Ç –∂–∏—Ç—å –Ω–∞—à–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã. –ò –æ–Ω –≤–∫–ª—é—á–∞–ª –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, —á—Ç–æ–±—ã –º—ã –º–æ–≥–ª–∏ –Ω–∞—á–∞—Ç—å! –°–ø–∞—Å–∏–±–æ!

assets/controllers/hello_controller.js

```js
import { Controller } from "@hotwired/stimulus";
/*
 * This is an example Stimulus controller!
 *
 * Any element with a data-controller="hello" attribute will cause
 * this controller to be executed. The name "hello" comes from the filename:
 * hello_controller.js -> "hello"
 *
 * Delete this file or adapt it for your use!
 */
export default class extends Controller {
	connect() {
		this.element.textContent =
			"Hello Stimulus! Edit me in assets/controllers/hello_controller.js";
	}
}
```

–≠—Ç–∏ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –∏–º–µ—é—Ç –≤–∞–∂–Ω–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ –æ–± –∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏. –ü–æ—Å–∫–æ–ª—å–∫—É —ç—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è hello_controller.js, —á—Ç–æ–±—ã —Å–≤—è–∑–∞—Ç—å —ç—Ç–æ —Å —ç–ª–µ–º–µ–Ω—Ç–æ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ, –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å data-controller="hello".

## How Stimulus Works / –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Stimulus

–í–æ—Ç –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç. –ö–∞–∫ —Ç–æ–ª—å–∫–æ Stimulus –≤–∏–¥–∏—Ç —ç–ª–µ–º–µ–Ω—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å data-controller="hello", –æ–Ω —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥ connect(). –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —ç—Ç–æ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä hello –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —ç–ª–µ–º–µ–Ω—Ç–∞, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –æ–Ω –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω.

–ò –º—ã —É–∂–µ –≤–∏–¥–∏–º —ç—Ç–æ. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É. Stimulus —Ç–µ–ø–µ—Ä—å –∞–∫—Ç–∏–≤–µ–Ω –Ω–∞ –Ω–∞—à–µ–º —Å–∞–π—Ç–µ. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã —Å data-controller. –î–∞–≤–∞–π—Ç–µ —Å–¥–µ–ª–∞–µ–º —á—Ç–æ-–Ω–∏–±—É–¥—å –¥–∏–∫–æ–µ: –ø—Ä–æ–≤–µ—Ä–∏–º —ç–ª–µ–º–µ–Ω—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ, –Ω–∞–π–¥–µ–º –ª—é–±–æ–π —ç–ª–µ–º–µ–Ω—Ç ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, —ç—Ç–æ—Ç —Ç–µ–≥ –ø—Ä–∏–≤—è–∑–∫–∏ ‚Äî –∏ –¥–æ–±–∞–≤–∏–º data-controller="hello". –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, —á—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –∫–æ–≥–¥–∞ —è –Ω–∞–∂–º—É off, —á—Ç–æ–±—ã –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ. –ë—É–º! Stimulus —É–≤–∏–¥–µ–ª —ç—Ç–æ—Ç —ç–ª–µ–º–µ–Ω—Ç, —Å–æ–∑–¥–∞–ª —ç–∫–∑–µ–º–ø–ª—è—Ä –Ω–∞—à–µ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –∏ –≤—ã–∑–≤–∞–ª –º–µ—Ç–æ–¥ connect(). –ò –≤—ã –º–æ–∂–µ—Ç–µ –¥–µ–ª–∞—Ç—å —ç—Ç–æ —Å—Ç–æ–ª—å–∫–æ —Ä–∞–∑, —Å–∫–æ–ª—å–∫–æ –∑–∞—Ö–æ—Ç–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.

–°—É—Ç—å –≤ —Ç–æ–º, —á—Ç–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫ —ç–ª–µ–º–µ–Ω—Ç data-controller –ø–æ–ø–∞–¥–∞–µ—Ç –Ω–∞ –≤–∞—à—É —Å—Ç—Ä–∞–Ω–∏—Ü—É, Stimulus –≤–∏–¥–∏—Ç –µ–≥–æ. –¢–∞–∫ —á—Ç–æ –µ—Å–ª–∏ –º—ã —Å–¥–µ–ª–∞–µ–º –≤—ã–∑–æ–≤ Ajax, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTML –∏ –ø–æ–º–µ—Å—Ç–∏–º –µ–≥–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É... –¥–∞, Stimulus —É–≤–∏–¥–∏—Ç —ç—Ç–æ, –∏ –Ω–∞—à JavaScript –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å. –í–æ—Ç –≤ —á–µ–º —Å—É—Ç—å: –∫–æ–≥–¥–∞ –≤—ã –ø–∏—à–µ—Ç–µ JavaScript —Å –ø–æ–º–æ—â—å—é Stimulus, –≤–∞—à JavaScript –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫ –∏ –∫–æ–≥–¥–∞ —ç—Ç–æ—Ç HTML –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É.

## Creating a closeable Stimulus Controller

–î–∞–≤–∞–π—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º Stimulus –¥–ª—è –Ω–∞—à–µ–π –∫–Ω–æ–ø–∫–∏ –∑–∞–∫—Ä—ã—Ç–∏—è. –í –∫–∞—Ç–∞–ª–æ–≥–µ assets/controller/ –ø—Ä–æ–¥—É–±–ª–∏—Ä—É–π—Ç–µ hello_controller.js –∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Å –∏–º–µ–Ω–µ–º closeable_controller.js.

–Ø –ø–æ—á—Ç–∏ –≤—Å–µ —É–±–µ—Ä—É –∏ –ø–µ—Ä–µ–π–¥—É –∫ —Å–∞–º—ã–º –æ—Å–Ω–æ–≤–∞–º: –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é Controller –∏–∑ Stimulus... –∑–∞—Ç–µ–º —Å–æ–∑–¥–∞–º –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –µ–≥–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç.

assets/controllers/closeable_controller.js

```js
import { Controller } from "@hotwired/stimulus";
export default class extends Controller {
	// ... lines 4 - 6
}
```

–≠—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç, –Ω–æ –º—ã —É–∂–µ –º–æ–∂–µ–º –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –µ–≥–æ –∫ —ç–ª–µ–º–µ–Ω—Ç—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ. –í–æ—Ç –ø–ª–∞–Ω: –º—ã —Å–æ–±–∏—Ä–∞–µ–º—Å—è –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∫–æ –≤—Å–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É aside. –ó–∞—Ç–µ–º, –∫–æ–≥–¥–∞ –º—ã –Ω–∞–∂–º–µ–º —ç—Ç—É –∫–Ω–æ–ø–∫—É, –º—ã —É–¥–∞–ª–∏–º aside.

–≠—Ç–æ—Ç —ç–ª–µ–º–µ–Ω—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ templates/main/\_shipStatusAside.html.twig. –ß—Ç–æ–±—ã –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, –¥–æ–±–∞–≤—å—Ç–µ data-controller="closeable".

–ï—Å–ª–∏ –º—ã –ø–µ—Ä–µ–π–¥–µ–º –∏ –æ–±–Ω–æ–≤–∏–º—Å—è, –ø–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç: –∫–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç. –ù–æ –æ—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞. –û—Ç–ª–∏—á–Ω–æ! Stimulus –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª–µ–∑–Ω—ã–µ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è: —á—Ç–æ –æ–Ω –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –∞ –∑–∞—Ç–µ–º ‚Äî —á—Ç–æ –≤–∞–∂–Ω–æ ‚Äî closeable initialize, closeable connect.

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω —É–≤–∏–¥–µ–ª —ç–ª–µ–º–µ–Ω—Ç data-controller –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª —ç—Ç–æ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä.

–ò—Ç–∞–∫, –≤–µ—Ä–Ω–µ–º—Å—è –∫ –Ω–∞—à–µ–π —Ü–µ–ª–∏: –∫–æ–≥–¥–∞ –º—ã –Ω–∞–∂–∏–º–∞–µ–º —ç—Ç—É –∫–Ω–æ–ø–∫—É, –º—ã —Ö–æ—Ç–∏–º –≤—ã–∑–≤–∞—Ç—å –∫–æ–¥ –≤–Ω—É—Ç—Ä–∏ closeable controller, –∫–æ—Ç–æ—Ä—ã–π —É–¥–∞–ª–∏—Ç aside. –í closeable_controller.js –¥–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π –º–µ—Ç–æ–¥ —Å –∏–º–µ–Ω–µ–º, –∫–∞–∫ –Ω–∞—Å—á–µ—Ç close(). –í–Ω—É—Ç—Ä–∏, —Å–∫–∞–∂–µ–º, this.element.remove().

assets/controllers/closeable_controller.js

```js
export default class extends Controller {
	close() {
		this.element.remove();
	}
}
```

–í Stimulus this.element –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç —Ç–µ–º —ç–ª–µ–º–µ–Ω—Ç–æ–º, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω –≤–∞—à –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä. –ò—Ç–∞–∫, —ç—Ç–æ—Ç —ç–ª–µ–º–µ–Ω—Ç aside. –ù–æ –≤ –æ—Å—Ç–∞–ª—å–Ω–æ–º —ç—Ç–æ—Ç –∫–æ–¥ ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π JavaScript: –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏–º–µ–µ—Ç –º–µ—Ç–æ–¥ remove().

–î–ª—è –≤—ã–∑–æ–≤–∞ –º–µ—Ç–æ–¥–∞ close() –Ω–∞ –∫–Ω–æ–ø–∫–µ –¥–æ–±–∞–≤—å—Ç–µ data-action="", –∑–∞—Ç–µ–º –∏–º—è –Ω–∞—à–µ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ - closeable - –∑–Ω–∞–∫ # –∏ –∏–º—è –º–µ—Ç–æ–¥–∞: close.

templates/main/\_shipStatusAside.html.twig

```twig
<aside
// ... line 2
    data-controller="closeable"
>
    <div class="flex justify-between mt-11 mb-7">
// ... line 6
        <button data-action="closeable#close">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 448 512"><!--!Font Awesome Pro 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path fill="#fff" d="M384 96c0-17.7 14.3-32 32-32s32 14.3 32 32V416c0 17.7-14.3 32-32 32s-32-14.3-32-32V96zM9.4 278.6c-12.5-12.5-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3L109.3 224 288 224c17.7 0 32 14.3 32 32s-14.3 32-32 32l-178.7 0 73.4 73.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0l-128-128z"/></svg>
        </button>
    </div>
// ... lines 11 - 35
</aside>
```

## Animating the Close / –ê–Ω–∏–º–∞—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è

–Ø —Ö–æ—á—É, —á—Ç–æ–±—ã –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ –±—ã–ª–∞ –∞–Ω–∏–º–∞—Ü–∏—è, –∞ –Ω–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ. –ú–æ–∂–µ–º –ª–∏ –º—ã —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å? –ö–æ–Ω–µ—á–Ω–æ! –ò –Ω–∞–º –Ω–µ –Ω—É–∂–Ω–æ –º–Ω–æ–≥–æ JavaScript... –ø–æ—Ç–æ–º—É —á—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π CSS –ø—Ä–æ—Å—Ç–æ –ø–æ—Ç—Ä—è—Å–∞—é—â–∏–π.

–î–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞ aside –¥–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π CSS-–∫–ª–∞—Å—Å (–æ–Ω –º–æ–∂–µ—Ç —Ä–∞—Å–ø–æ–ª–∞–≥–∞—Ç—å—Å—è –≥–¥–µ —É–≥–æ–¥–Ω–æ) –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º transition-all.

–≠—Ç–æ –∫–ª–∞—Å—Å Tailwind, –∫–æ—Ç–æ—Ä—ã–π –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç CSS-–ø–µ—Ä–µ—Ö–æ–¥—ã. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –µ—Å–ª–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ —Å—Ç–∏–ª—è –∏–∑–º–µ–Ω—è—Ç—Å—è ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, —à–∏—Ä–∏–Ω–∞ –≤–Ω–µ–∑–∞–ø–Ω–æ —Å—Ç–∞–Ω–µ—Ç —Ä–∞–≤–Ω–æ–π 0 ‚Äî –æ–Ω –ø–µ—Ä–µ–π–¥–µ—Ç –∫ —ç—Ç–æ–º—É –∏–∑–º–µ–Ω–µ–Ω–∏—é, –∞ –Ω–µ –∏–∑–º–µ–Ω–∏—Ç –µ–≥–æ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ.

–¢–∞–∫–∂–µ –¥–æ–±–∞–≤—å—Ç–µ overflow-hidden, —á—Ç–æ–±—ã –ø—Ä–∏ —É–º–µ–Ω—å—à–µ–Ω–∏–∏ —à–∏—Ä–∏–Ω—ã –Ω–µ —Å–æ–∑–¥–∞–≤–∞–ª–∞—Å—å —Å—Ç—Ä–∞–Ω–Ω–∞—è –ø–æ–ª–æ—Å–∞ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏.

templates/main/\_shipStatusAside.html.twig

```twig
<aside
    class="pb-8 lg:pb-0 lg:w-[411px] shrink-0 lg:block lg:min-h-screen text-white transition-all overflow-hidden px-8 border-b lg:border-b-0 lg:border-r border-white/20"
    data-controller="closeable"
>
    <div class="flex justify-between mt-11 mb-7">
// ... line 6
        <button data-action="closeable#close">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 448 512"><!--!Font Awesome Pro 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path fill="#fff" d="M384 96c0-17.7 14.3-32 32-32s32 14.3 32 32V416c0 17.7-14.3 32-32 32s-32-14.3-32-32V96zM9.4 278.6c-12.5-12.5-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3L109.3 224 288 224c17.7 0 32 14.3 32 32s-14.3 32-32 32l-178.7 0 73.4 73.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0l-128-128z"/></svg>
        </button>
    </div>
// ... lines 11 - 35
</aside>
```

–ï—Å–ª–∏ –º—ã –ø–æ–ø—Ä–æ–±—É–µ–º —ç—Ç–æ —Å–µ–π—á–∞—Å, –æ–Ω –≤—Å–µ —Ä–∞–≤–Ω–æ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –∑–∞–∫—Ä–æ–µ—Ç—Å—è. –≠—Ç–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ –Ω–µ—á–µ–º—É –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å: –º—ã –Ω–µ –º–µ–Ω—è–µ–º —à–∏—Ä–∏–Ω—É... –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç.

–í–æ–∑–≤—Ä–∞—â–∞—è—Å—å –∫ –Ω–∞—à–µ–º—É –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—É, –≤–º–µ—Å—Ç–æ —É–¥–∞–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞ –Ω–∞–º –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —à–∏—Ä–∏–Ω—É –Ω–∞ –Ω–æ–ª—å, –¥–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞ CSS, –∞ –∑–∞—Ç–µ–º —É–¥–∞–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç. –ú—ã –º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–≤–æ–µ —Å –ø–æ–º–æ—â—å—é this.element.style.width = 0.

–°–ª–æ–∂–Ω–æ—Å—Ç—å –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ–±—ã –¥–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞ CSS –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º —ç–ª–µ–º–µ–Ω—Ç–∞. –ß—Ç–æ–±—ã –ø–æ–º–æ—á—å —Å —ç—Ç–∏–º, —è —Å–æ–±–∏—Ä–∞—é—Å—å –≤—Å—Ç–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ –≤ –Ω–∏–∂–Ω—é—é —á–∞—Å—Ç—å –Ω–∞—à–µ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞.

assets/controllers/closeable_controller.js

```js
export default class extends Controller {
	async close() {
		this.element.style.width = "0";
		// ... lines 6 - 8
	}
	#waitForAnimation() {
		return Promise.all(
			this.element.getAnimations().map((animation) => animation.finished)
		);
	}
}
```

–ï—Å–ª–∏ –≤—ã –Ω–µ –∑–Ω–∞–∫–æ–º—ã, –∑–Ω–∞–∫ # –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –∑–∞–∫—Ä—ã—Ç—ã–º –≤ JavaScript: –Ω–µ–±–æ–ª—å—à–∞—è –¥–µ—Ç–∞–ª—å. –≠—Ç–æ—Ç –∫–æ–¥ –≤—ã–≥–ª—è–¥–∏—Ç –∑–∞—Ç–µ–π–ª–∏–≤–æ, –Ω–æ —É –Ω–µ–≥–æ –ø—Ä–æ—Å—Ç–∞—è –∑–∞–¥–∞—á–∞: –ø–æ–ø—Ä–æ—Å–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç —Å–æ–æ–±—â–∏—Ç—å –Ω–∞–º, –∫–æ–≥–¥–∞ –≤—Å–µ –µ–≥–æ CSS-–∞–Ω–∏–º–∞—Ü–∏–∏ –±—É–¥—É—Ç –∑–∞–≤–µ—Ä—à–µ–Ω—ã.

–ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É, –∑–¥–µ—Å—å, –Ω–∞–≤–µ—Ä—Ö—É, –º—ã –º–æ–∂–µ–º —Å–∫–∞–∑–∞—Ç—å await this.#waitForAnimation(). –ò –≤—Å—è–∫–∏–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ await, –≤–∞–º –Ω—É–∂–Ω–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å async –≤ —Ñ—É–Ω–∫—Ü–∏—é –≤–æ–∫—Ä—É–≥ —ç—Ç–æ–≥–æ. –Ø –Ω–µ –±—É–¥—É –≤–¥–∞–≤–∞—Ç—å—Å—è –≤ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –æ–± async, –Ω–æ —ç—Ç–æ –Ω–µ –∏–∑–º–µ–Ω–∏—Ç —Ç–æ–≥–æ, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞—à –∫–æ–¥.

assets/controllers/closeable_controller.js

```js
export default class extends Controller {
	async close() {
		this.element.style.width = "0";
		await this.#waitForAnimation();
		this.element.remove();
	}
	#waitForAnimation() {
		return Promise.all(
			this.element.getAnimations().map((animation) => animation.finished)
		);
	}
}
```
